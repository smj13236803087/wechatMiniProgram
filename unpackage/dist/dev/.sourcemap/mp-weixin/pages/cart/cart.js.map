{"version":3,"file":"cart.js","sources":["pages/cart/cart.vue","pages/cart/cart.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<view v-if=\"loading\" class=\"state-card\">\n\t\t\t<text class=\"state-text\">正在加载购物车...</text>\n\t\t</view>\n\t\t\n\t\t<view v-else-if=\"error\" class=\"state-card\">\n\t\t\t<text class=\"state-text error\">加载失败：{{ error }}</text>\n\t\t\t<button class=\"retry-btn\" @click=\"fetchCart\">重试</button>\n\t\t</view>\n\t\t\n\t\t<view v-else-if=\"items.length === 0\" class=\"state-card\">\n\t\t\t<text class=\"state-text\">购物车是空的</text>\n\t\t\t<button class=\"retry-btn\" @click=\"goToWorkspace\">去工作台挑选</button>\n\t\t</view>\n\t\t\n\t\t<scroll-view v-else class=\"list-scroll\" scroll-y>\n\t\t\t<view class=\"list\">\n\t\t\t\t<view v-for=\"item in items\" :key=\"item.id\" class=\"card\">\n\t\t\t\t\t<view class=\"card-top\">\n\t\t\t\t\t\t<view class=\"check-area\" @click=\"toggleItemChecked(item)\">\n\t\t\t\t\t\t\t<view class=\"check-box\" :class=\"{ checked: item.checked }\">\n\t\t\t\t\t\t\t\t<text v-if=\"item.checked\" class=\"check-icon\">✔</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"preview\">\n\t\t\t\t\t\t\t<canvas :canvas-id=\"'cart-preview-' + item.id\" class=\"preview-canvas\"></canvas>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"info\">\n\t\t\t\t\t\t\t<view class=\"name\">{{ item.name || item.design?.name || '未命名作品' }}</view>\n\t\t\t\t\t\t\t<view class=\"meta\">\n\t\t\t\t\t\t\t\t<text class=\"meta-text\">{{ (item.design?.items?.length || 0) }} 件</text>\n\t\t\t\t\t\t\t\t<text class=\"meta-price\">¥{{ item.totalPrice || 0 }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"meta2\">\n\t\t\t\t\t\t\t\t<text class=\"meta-text\" v-if=\"item.design?.wristSize\">手围 {{ item.design.wristSize }}cm</text>\n\t\t\t\t\t\t\t\t<text class=\"meta-text\" v-if=\"item.design?.wearingStyle\">\n\t\t\t\t\t\t\t\t\t{{ item.design.wearingStyle === 'double' ? '双圈' : '单圈' }}\n\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t<view class=\"quantity-wrapper\">\n\t\t\t\t\t\t\t\t\t<text class=\"meta-text\">数量</text>\n\t\t\t\t\t\t\t\t\t<view class=\"qty-control\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"qty-btn\" @click.stop=\"decreaseQuantity(item)\">-</view>\n\t\t\t\t\t\t\t\t\t\t<text class=\"qty-value\">{{ item.quantity }}</text>\n\t\t\t\t\t\t\t\t\t\t<view class=\"qty-btn\" @click.stop=\"increaseQuantity(item)\">+</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"actions\">\n\t\t\t\t\t\t<button class=\"action-btn delete\" :disabled=\"deletingId === item.id\" @click=\"deleteItem(item.id)\">\n\t\t\t\t\t\t\t{{ deletingId === item.id ? '删除中...' : '删除' }}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</scroll-view>\n\t\t\n\t\t<view v-if=\"items.length\" class=\"footer\">\n\t\t\t<view class=\"footer-left\" @click=\"toggleSelectAll\">\n\t\t\t\t<view class=\"check-box small\" :class=\"{ checked: allSelected }\">\n\t\t\t\t\t<text v-if=\"allSelected\" class=\"check-icon\">✔</text>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"footer-select-all\">全选</text>\n\t\t\t\t<text class=\"footer-count\">已选 {{ selectedCount }} 件</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"footer-middle\">\n\t\t\t\t<text class=\"footer-label\">合计：</text>\n\t\t\t\t<text class=\"footer-price\">¥{{ selectedTotalPrice }}</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"footer-right\">\n\t\t\t\t<button class=\"footer-btn secondary\" @click=\"clearCart\">清空</button>\n\t\t\t\t<button class=\"footer-btn secondary\" @click=\"deleteSelected\" :disabled=\"selectedIds.length === 0\">删除</button>\n\t\t\t\t<button class=\"footer-btn primary\" @click=\"goToCheckout\" :disabled=\"selectedIds.length === 0\">去结算</button>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport { cartAPI } from '@/utils/api.js'\n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tloading: true,\n\t\t\t\terror: null,\n\t\t\t\titems: [],\n\t\t\t\tdeletingId: null\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\t// 是否全选\n\t\t\tallSelected() {\n\t\t\t\treturn this.items.length > 0 && this.items.every(i => i.checked)\n\t\t\t},\n\t\t\t// 已选条数\n\t\t\tselectedCount() {\n\t\t\t\treturn this.items.filter(i => i.checked).length\n\t\t\t},\n\t\t\t// 已选条目的 id 列表\n\t\t\tselectedIds() {\n\t\t\t\treturn this.items.filter(i => i.checked).map(i => i.id)\n\t\t\t},\n\t\t\t// 已选合计金额（数量 * 单价）\n\t\t\tselectedTotalPrice() {\n\t\t\t\treturn this.items\n\t\t\t\t\t.filter(i => i.checked)\n\t\t\t\t\t.reduce((sum, item) => {\n\t\t\t\t\t\tconst qty = item.quantity || 1\n\t\t\t\t\t\tconst price = item.totalPrice || 0\n\t\t\t\t\t\treturn sum + qty * price\n\t\t\t\t\t}, 0)\n\t\t\t}\n\t\t},\n\t\tonShow() {\n\t\t\t// tabBar 页面推荐用 onShow，每次进入都刷新\n\t\t\tthis.fetchCart()\n\t\t},\n\t\twatch: {\n\t\t\titems: {\n\t\t\t\thandler() {\n\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\tthis.drawAllPreviews()\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tdeep: true\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tasync fetchCart() {\n\t\t\t\tthis.loading = true\n\t\t\t\tthis.error = null\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await cartAPI.getCart()\n\t\t\t\t\tconst rawItems = res.items || []\n\t\t\t\t\t// 为每个条目增加本地 UI 状态：是否选中、数量\n\t\t\t\t\tthis.items = rawItems.map(item => ({\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\tchecked: false,\n\t\t\t\t\t\tquantity: 1\n\t\t\t\t\t}))\n\t\t\t\t} catch (err) {\n\t\t\t\t\tthis.items = []\n\t\t\t\t\tthis.error = err.message || '拉取购物车失败'\n\t\t\t\t} finally {\n\t\t\t\t\tthis.loading = false\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tdrawAllPreviews() {\n\t\t\t\tthis.items.forEach((cartItem) => {\n\t\t\t\t\tconst designItems = cartItem.design?.items || []\n\t\t\t\t\tif (Array.isArray(designItems) && designItems.length > 0) {\n\t\t\t\t\t\tthis.drawPreview(cartItem.id, designItems)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// 使用与作品集一致的 canvas 预览风格（保证珠子不被裁剪）\n\t\t\tdrawPreview(cartItemId, items) {\n\t\t\t\tconst canvasId = 'cart-preview-' + cartItemId\n\t\t\t\tconst ctx = uni.createCanvasContext(canvasId, this)\n\t\t\t\t\n\t\t\t\tconst systemInfo = uni.getSystemInfoSync()\n\t\t\t\tconst screenWidth = systemInfo.screenWidth\n\t\t\t\tconst size = (220 / 750) * screenWidth // 220rpx\n\t\t\t\tconst centerX = size / 2\n\t\t\t\tconst centerY = size / 2\n\t\t\t\t\n\t\t\t\tctx.clearRect(0, 0, size, size)\n\t\t\t\t\n\t\t\t\tconst baseBeadRadius = 8\n\t\t\t\tconst margin = 4\n\t\t\t\tconst maxRadius = size / 2 - baseBeadRadius - margin\n\t\t\t\tif (maxRadius <= 0) {\n\t\t\t\t\tctx.draw()\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconst minCircumference = items.length * baseBeadRadius * 2\n\t\t\t\tconst minRadius = minCircumference / (2 * Math.PI)\n\t\t\t\t\n\t\t\t\tlet beadRadius = baseBeadRadius\n\t\t\t\tlet radius\n\t\t\t\t\n\t\t\t\tif (minRadius <= maxRadius) {\n\t\t\t\t\tradius = Math.max(minRadius + beadRadius * 0.5, size * 0.28)\n\t\t\t\t\tradius = Math.min(radius, maxRadius)\n\t\t\t\t} else {\n\t\t\t\t\tconst scale = maxRadius / minRadius\n\t\t\t\t\tbeadRadius = baseBeadRadius * scale\n\t\t\t\t\tradius = maxRadius\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tctx.beginPath()\n\t\t\t\tctx.arc(centerX, centerY, radius, 0, 2 * Math.PI)\n\t\t\t\tctx.setStrokeStyle('#e5e7eb')\n\t\t\t\tctx.setLineWidth(2)\n\t\t\t\tctx.setLineDash([5, 5], 0)\n\t\t\t\tctx.stroke()\n\t\t\t\tctx.setLineDash([], 0)\n\t\t\t\t\n\t\t\t\tconst angleStep = (2 * Math.PI) / items.length\n\t\t\t\titems.forEach((item, index) => {\n\t\t\t\t\tconst angle = index * angleStep\n\t\t\t\t\tconst x = centerX + radius * Math.cos(angle)\n\t\t\t\t\tconst y = centerY + radius * Math.sin(angle)\n\t\t\t\t\tconst color = item.color || '#8b4513'\n\t\t\t\t\t\n\t\t\t\t\tctx.beginPath()\n\t\t\t\t\tctx.arc(x, y, beadRadius, 0, 2 * Math.PI)\n\t\t\t\t\tctx.setFillStyle(color)\n\t\t\t\t\tctx.fill()\n\t\t\t\t\t\n\t\t\t\t\tctx.setStrokeStyle('#ffffff')\n\t\t\t\t\tctx.setLineWidth(1.5)\n\t\t\t\t\tctx.stroke()\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tctx.draw()\n\t\t\t},\n\t\t\t\n\t\t\t// 单条选中/取消\n\t\t\ttoggleItemChecked(item) {\n\t\t\t\titem.checked = !item.checked\n\t\t\t},\n\t\t\t\n\t\t\t// 全选/反选\n\t\t\ttoggleSelectAll() {\n\t\t\t\tconst target = !this.allSelected\n\t\t\t\tthis.items = this.items.map(i => ({\n\t\t\t\t\t...i,\n\t\t\t\t\tchecked: target\n\t\t\t\t}))\n\t\t\t},\n\t\t\t\n\t\t\t// 数量增加\n\t\t\tincreaseQuantity(item) {\n\t\t\t\titem.quantity = (item.quantity || 1) + 1\n\t\t\t},\n\t\t\t\n\t\t\t// 数量减少（最少为 1）\n\t\t\tdecreaseQuantity(item) {\n\t\t\t\tconst current = item.quantity || 1\n\t\t\t\tif (current <= 1) return\n\t\t\t\titem.quantity = current - 1\n\t\t\t},\n\t\t\t\n\t\t\tdeleteItem(id) {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '确认删除',\n\t\t\t\t\tcontent: '确定要从购物车删除该作品吗？',\n\t\t\t\t\tsuccess: async (res) => {\n\t\t\t\t\t\tif (!res.confirm) return\n\t\t\t\t\t\tthis.deletingId = id\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait cartAPI.deleteItems([id])\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '已删除',\n\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthis.items = this.items.filter(i => i.id !== id)\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: err.message || '删除失败',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\tthis.deletingId = null\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// 删除选中条目\n\t\t\tdeleteSelected() {\n\t\t\t\tif (this.selectedIds.length === 0) return\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '确认删除',\n\t\t\t\t\tcontent: `确定要删除选中的 ${this.selectedIds.length} 个作品吗？`,\n\t\t\t\t\tsuccess: async (res) => {\n\t\t\t\t\t\tif (!res.confirm) return\n\t\t\t\t\t\tthis.deletingId = 'batch'\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait cartAPI.deleteItems(this.selectedIds)\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '已删除选中',\n\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthis.items = this.items.filter(i => !this.selectedIds.includes(i.id))\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: err.message || '删除失败',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\tthis.deletingId = null\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// 清空购物车\n\t\t\tclearCart() {\n\t\t\t\tif (!this.items.length) return\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '清空购物车',\n\t\t\t\t\tcontent: '确定要清空购物车中所有作品吗？',\n\t\t\t\t\tsuccess: async (res) => {\n\t\t\t\t\t\tif (!res.confirm) return\n\t\t\t\t\t\tthis.deletingId = 'clear'\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t// 不传 ids，后端会清空当前用户购物车\n\t\t\t\t\t\t\tawait cartAPI.deleteItems()\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '已清空',\n\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthis.items = []\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: err.message || '清空失败',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\tthis.deletingId = null\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// 去结算\n\t\t\tgoToCheckout() {\n\t\t\t\tif (this.selectedIds.length === 0) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请先选择要结算的作品',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t// 获取选中的商品数据\n\t\t\t\tconst selectedItems = this.items.filter(i => i.checked).map(item => ({\n\t\t\t\t\tid: item.id,\n\t\t\t\t\tname: item.name || item.design?.name || '未命名作品',\n\t\t\t\t\tdesign: item.design,\n\t\t\t\t\ttotalPrice: item.totalPrice,\n\t\t\t\t\tquantity: item.quantity || 1\n\t\t\t\t}))\n\t\t\t\t// 跳转到提交订单页面，传递选中的商品数据\n\t\t\t\tconst payload = encodeURIComponent(JSON.stringify({\n\t\t\t\t\titems: selectedItems,\n\t\t\t\t\ttotalPrice: this.selectedTotalPrice\n\t\t\t\t}))\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/pages/checkout/checkout?data=${payload}`\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tgoToWorkspace() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/workspace/workspace'\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.container {\n\t\tmin-height: 100vh;\n\t\tbackground: #f3f4f6;\n\t\tpadding: 32rpx 24rpx 140rpx;\n\t}\n\t\n\t.header {\n\t\tmargin-bottom: 24rpx;\n\t}\n\t\n\t.title {\n\t\tfont-size: 48rpx;\n\t\tfont-weight: 700;\n\t\tcolor: #111827;\n\t}\n\t\n\t.subtitle {\n\t\tmargin-top: 8rpx;\n\t\tfont-size: 26rpx;\n\t\tcolor: #6b7280;\n\t}\n\t\n\t.state-card {\n\t\tbackground: #ffffff;\n\t\tborder-radius: 16rpx;\n\t\tpadding: 48rpx 32rpx;\n\t\ttext-align: center;\n\t\tbox-shadow: 0 6rpx 18rpx rgba(0, 0, 0, 0.06);\n\t}\n\t\n\t.state-text {\n\t\tfont-size: 28rpx;\n\t\tcolor: #6b7280;\n\t\tdisplay: block;\n\t}\n\t\n\t.state-text.error {\n\t\tcolor: #dc2626;\n\t}\n\t\n\t.retry-btn {\n\t\tmargin-top: 24rpx;\n\t\theight: 80rpx;\n\t\tline-height: 80rpx;\n\t\tborder-radius: 999rpx;\n\t\tbackground: linear-gradient(135deg, #3b82f6, #8b5cf6);\n\t\tcolor: #ffffff;\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 600;\n\t\tborder: none;\n\t}\n\t\n\t.list-scroll {\n\t\theight: calc(100vh - 220rpx);\n\t}\n\t\n\t.list {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 20rpx;\n\t\tpadding-bottom: 24rpx;\n\t}\n\t\n\t.card {\n\t\tbackground: #ffffff;\n\t\tborder-radius: 16rpx;\n\t\tpadding: 20rpx;\n\t\tbox-shadow: 0 6rpx 18rpx rgba(0, 0, 0, 0.06);\n\t}\n\t\n\t.card-top {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tgap: 16rpx;\n\t}\n\n.check-area {\n\twidth: 60rpx;\n\talign-items: center;\n\tjustify-content: center;\n\tdisplay: flex;\n}\n\n.check-box {\n\twidth: 36rpx;\n\theight: 36rpx;\n\tborder-radius: 50%;\n\tborder: 2rpx solid #d1d5db;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground: #ffffff;\n}\n\n.check-box.checked {\n\tbackground: #3b82f6;\n\tborder-color: #3b82f6;\n}\n\n.check-box.small {\n\twidth: 32rpx;\n\theight: 32rpx;\n}\n\n.check-icon {\n\tfont-size: 22rpx;\n\tcolor: #ffffff;\n}\n\t\n\t.preview {\n\t\twidth: 240rpx;\n\t\theight: 240rpx;\n\t\tbackground: #f9fafb;\n\t\tborder-radius: 16rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\toverflow: hidden;\n\t}\n\t\n\t.preview-canvas {\n\t\twidth: 220rpx;\n\t\theight: 220rpx;\n\t}\n\t\n\t.info {\n\t\tflex: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: space-between;\n\t}\n\t\n\t.name {\n\t\tfont-size: 30rpx;\n\t\tfont-weight: 600;\n\t\tcolor: #111827;\n\t}\n\t\n\t.meta {\n\t\tmargin-top: 12rpx;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t}\n\t\n\t.meta2 {\n\t\tmargin-top: 10rpx;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\tgap: 12rpx;\n\tflex-wrap: wrap;\n\talign-items: center;\n\t}\n\t\n\t.meta-text {\n\t\tfont-size: 24rpx;\n\t\tcolor: #6b7280;\n\t}\n\t\n\t.meta-price {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: 700;\n\t\tcolor: #ef4444;\n\t}\n\n.quantity-wrapper {\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tgap: 8rpx;\n\tmargin-left: auto;\n}\n\n.qty-control {\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tbackground: #f3f4f6;\n\tborder-radius: 999rpx;\n\toverflow: hidden;\n}\n\n.qty-btn {\n\twidth: 40rpx;\n\theight: 40rpx;\n\ttext-align: center;\n\tline-height: 40rpx;\n\tfont-size: 26rpx;\n\tcolor: #4b5563;\n}\n\n.qty-value {\n\tmin-width: 40rpx;\n\ttext-align: center;\n\tfont-size: 24rpx;\n\tcolor: #111827;\n}\n\t\n\t.actions {\n\t\tmargin-top: 16rpx;\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t}\n\t\n\t.action-btn {\n\t\theight: 72rpx;\n\t\tline-height: 72rpx;\n\t\tpadding: 0 28rpx;\n\t\tborder-radius: 999rpx;\n\t\tfont-size: 26rpx;\n\t\tfont-weight: 600;\n\t\tborder: none;\n\t}\n\t\n\t.action-btn.delete {\n\t\tbackground: #fef2f2;\n\t\tcolor: #dc2626;\n\t}\n\t\n\t.action-btn[disabled] {\n\t\topacity: 0.6;\n\t}\n\t\n\t.footer {\n\t\tposition: fixed;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tpadding: 16rpx 24rpx 24rpx;\n\t\tbackground: #ffffff;\n\t\tbox-shadow: 0 -4rpx 16rpx rgba(0, 0, 0, 0.06);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t}\n\t\n\t.footer-left {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\t\tgap: 12rpx;\n\t}\n\t\n\t.footer-select-all {\n\t\tfont-size: 24rpx;\n\t\tcolor: #111827;\n\t}\n\t\n\t.footer-count {\n\t\tfont-size: 22rpx;\n\t\tcolor: #6b7280;\n\t}\n\t\n\t.footer-middle {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: baseline;\n\t\tgap: 4rpx;\n\t}\n\t\n\t.footer-label {\n\t\tfont-size: 24rpx;\n\t\tcolor: #6b7280;\n\t}\n\t\n\t.footer-price {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: 700;\n\t\tcolor: #ef4444;\n\t}\n\t\n\t.footer-right {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tgap: 8rpx;\n\t}\n\t\n\t.footer-btn {\n\t\theight: 64rpx;\n\t\tline-height: 64rpx;\n\t\tpadding: 0 20rpx;\n\t\tborder-radius: 999rpx;\n\t\tfont-size: 24rpx;\n\t\tfont-weight: 600;\n\t\tborder: none;\n\t}\n\t\n\t.footer-btn.secondary {\n\t\tbackground: #f3f4f6;\n\t\tcolor: #374151;\n\t}\n\t\n\t.footer-btn.primary {\n\t\tbackground: linear-gradient(135deg, #10b981, #059669);\n\t\tcolor: #ffffff;\n\t}\n\t\n\t.footer-btn[disabled] {\n\t\topacity: 0.6;\n\t}\n</style>\n","import MiniProgramPage from '/Users/shaomaojia/Documents/HBuilderProjects/bracelet/pages/cart/cart.vue'\nwx.createPage(MiniProgramPage)"],"names":["cartAPI","uni"],"mappings":"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"}