<view class="container data-v-245b3c15"><view wx:if="{{a}}" class="modal-overlay data-v-245b3c15" bindtap="{{j}}"><view class="modal-content data-v-245b3c15" catchtap="{{i}}"><view class="modal-title data-v-245b3c15">设置手腕尺寸</view><view class="form-item data-v-245b3c15"><view class="label data-v-245b3c15">手围（厘米）</view><input type="digit" placeholder="请输入手围" class="input data-v-245b3c15" value="{{b}}" bindinput="{{c}}"/></view><view class="form-item data-v-245b3c15"><view class="label data-v-245b3c15">佩戴方式</view><view class="radio-group data-v-245b3c15"><view class="{{['radio-item', 'data-v-245b3c15', d && 'active']}}" bindtap="{{e}}"><text class="data-v-245b3c15">单圈</text></view><view class="{{['radio-item', 'data-v-245b3c15', f && 'active']}}" bindtap="{{g}}"><text class="data-v-245b3c15">双圈</text></view></view></view><button class="modal-btn data-v-245b3c15" bindtap="{{h}}">完成</button></view></view><view class="workspace-content data-v-245b3c15"><view class="preview-panel-fixed data-v-245b3c15"><view class="preview-content-row data-v-245b3c15"><view class="bracelet-preview-container data-v-245b3c15"><view wx:if="{{k}}" class="empty-preview data-v-245b3c15"><text class="data-v-245b3c15">从下方选择材料开始设计</text></view><view wx:else class="preview-svg-wrapper data-v-245b3c15"><view wx:if="{{l}}" class="preview-tip preview-tip-error data-v-245b3c15"> 已达到设定手围！当前周长：{{m}}cm，最大周长：{{n}}cm </view><view wx:elif="{{o}}" class="preview-tip preview-tip-success data-v-245b3c15"> 已完美匹配设定手围！手串已自动调整为完美圆形 </view><view class="canvas-container data-v-245b3c15" catchtouchmove="{{v}}"><block wx:if="{{r0}}"><canvas canvas-id="braceletCanvas" style="{{'width:' + p + ';' + ('height:' + q)}}" class="bracelet-canvas data-v-245b3c15" catchtouchstart="{{r}}" catchtouchmove="{{s}}" catchtouchend="{{t}}"></canvas></block></view></view></view><view class="info-section-right data-v-245b3c15"><view class="wrist-info data-v-245b3c15"><text class="wrist-label data-v-245b3c15">手围：{{w}}cm</text><text class="wrist-style data-v-245b3c15">{{x}}</text></view><view class="price-info data-v-245b3c15"><text class="price-label data-v-245b3c15">总价：</text><text class="price-value data-v-245b3c15">¥{{y}}</text></view><view class="price-info data-v-245b3c15"><text class="price-label data-v-245b3c15">项目数：</text><text class="price-value data-v-245b3c15">{{z}}</text></view></view></view><view class="{{['delete-zone', 'data-v-245b3c15', A && 'delete-zone-active']}}"><text class="delete-zone-text data-v-245b3c15">拖到此处删除</text></view></view><view class="material-panel data-v-245b3c15"><view class="main-tabs data-v-245b3c15"><view class="{{['main-tab-item', 'data-v-245b3c15', B && 'active']}}" bindtap="{{C}}"> 珠子 </view><view class="{{['main-tab-item', 'data-v-245b3c15', D && 'active']}}" bindtap="{{E}}"> 配饰 </view><view class="{{['main-tab-item', 'data-v-245b3c15', F && 'active']}}" bindtap="{{G}}"> 吊坠 </view></view><view class="material-content data-v-245b3c15"><view wx:if="{{H}}" class="loading-text data-v-245b3c15">正在加载商品...</view><view wx:elif="{{I}}" class="error-text data-v-245b3c15">加载失败：{{J}}</view><view wx:elif="{{K}}" class="loading-text data-v-245b3c15">暂无商品数据</view><view wx:else class="data-v-245b3c15"><view wx:if="{{L}}" class="material-tab-content data-v-245b3c15"><view class="sub-tabs data-v-245b3c15"><view wx:for="{{M}}" wx:for-item="category" wx:key="b" class="{{['sub-tab-item', 'data-v-245b3c15', category.c && 'active']}}" bindtap="{{category.d}}">{{category.a}}</view></view><scroll-view class="product-list data-v-245b3c15" scroll-y><view wx:if="{{N}}" class="product-grid data-v-245b3c15"><view wx:for="{{O}}" wx:for-item="product" wx:key="d" class="product-item data-v-245b3c15" bindtap="{{product.e}}"><image src="{{product.a}}" class="product-image data-v-245b3c15" mode="aspectFill"/><text class="product-name data-v-245b3c15">{{product.b}}</text><text class="product-price data-v-245b3c15">¥{{product.c}}</text></view></view><view wx:else class="empty-text data-v-245b3c15">请选择分类</view></scroll-view></view><view wx:if="{{P}}" class="material-tab-content data-v-245b3c15"><view class="sub-tabs data-v-245b3c15"><view wx:for="{{Q}}" wx:for-item="category" wx:key="b" class="{{['sub-tab-item', 'data-v-245b3c15', category.c && 'active']}}" bindtap="{{category.d}}">{{category.a}}</view></view><scroll-view class="product-list data-v-245b3c15" scroll-y><view wx:if="{{R}}" class="product-grid data-v-245b3c15"><view wx:for="{{S}}" wx:for-item="product" wx:key="d" class="product-item data-v-245b3c15" bindtap="{{product.e}}"><image src="{{product.a}}" class="product-image data-v-245b3c15" mode="aspectFill"/><text class="product-name data-v-245b3c15">{{product.b}}</text><text class="product-price data-v-245b3c15">¥{{product.c}}</text></view></view><view wx:else class="empty-text data-v-245b3c15">请选择分类</view></scroll-view></view><view wx:if="{{T}}" class="material-tab-content data-v-245b3c15"><scroll-view class="product-list-full data-v-245b3c15" scroll-y><view wx:if="{{U}}" class="product-grid data-v-245b3c15"><view wx:for="{{V}}" wx:for-item="product" wx:key="d" class="product-item data-v-245b3c15" bindtap="{{product.e}}"><image src="{{product.a}}" class="product-image data-v-245b3c15" mode="aspectFill"/><text class="product-name data-v-245b3c15">{{product.b}}</text><text class="product-price data-v-245b3c15">¥{{product.c}}</text></view></view><view wx:else class="empty-text data-v-245b3c15">暂无吊坠商品</view></scroll-view></view></view><view class="save-section-compact data-v-245b3c15"><view class="save-form-item data-v-245b3c15"><text class="save-label data-v-245b3c15">作品名称</text><input type="text" placeholder="给你的作品起个名字" class="save-input data-v-245b3c15" value="{{W}}" bindinput="{{X}}"/></view><view class="save-btn-group data-v-245b3c15"><button class="save-btn-compact secondary data-v-245b3c15" disabled="{{Z}}" bindtap="{{aa}}">{{Y}}</button><button class="save-btn-compact data-v-245b3c15" disabled="{{ac}}" bindtap="{{ad}}">{{ab}}</button></view></view></view></view><scroll-view class="config-panel data-v-245b3c15" scroll-y="{{aI}}" enable-back-to-top="{{aJ}}" style="display:none"><view wx:if="{{ae}}" class="loading-text data-v-245b3c15">正在加载商品...</view><view wx:elif="{{af}}" class="error-text data-v-245b3c15">加载失败：{{ag}}</view><view wx:elif="{{ah}}" class="loading-text data-v-245b3c15">暂无商品数据</view><view wx:else class="data-v-245b3c15"><view class="section data-v-245b3c15"><view class="section-header data-v-245b3c15"><view class="section-title data-v-245b3c15">珠子</view><view wx:if="{{ai}}" class="back-btn data-v-245b3c15" bindtap="{{aj}}"><text class="data-v-245b3c15">← 返回</text></view></view><view wx:if="{{ak}}" class="data-v-245b3c15"><view wx:if="{{al}}" class="category-grid data-v-245b3c15"><view wx:for="{{am}}" wx:for-item="category" wx:key="c" class="category-item data-v-245b3c15" bindtap="{{category.d}}"><image src="{{category.a}}" class="category-image data-v-245b3c15" mode="aspectFill"/><text class="category-name data-v-245b3c15">{{category.b}}</text></view></view></view><view wx:else class="data-v-245b3c15"><view wx:if="{{an}}" class="section-subtitle data-v-245b3c15"> 选择 {{ao}}</view><view wx:if="{{ap}}" class="product-grid data-v-245b3c15"><view wx:for="{{aq}}" wx:for-item="product" wx:key="d" class="product-item data-v-245b3c15" bindtap="{{product.e}}"><image src="{{product.a}}" class="product-image data-v-245b3c15" mode="aspectFill"/><text class="product-name data-v-245b3c15">{{product.b}}</text><text class="product-price data-v-245b3c15">¥{{product.c}}</text></view></view></view></view><view class="section data-v-245b3c15"><view class="section-header data-v-245b3c15"><view class="section-title data-v-245b3c15">配饰</view><view wx:if="{{ar}}" class="back-btn data-v-245b3c15" bindtap="{{as}}"><text class="data-v-245b3c15">← 返回</text></view></view><view wx:if="{{at}}" class="data-v-245b3c15"><view wx:if="{{av}}" class="category-grid data-v-245b3c15"><view wx:for="{{aw}}" wx:for-item="category" wx:key="c" class="category-item data-v-245b3c15" bindtap="{{category.d}}"><image src="{{category.a}}" class="category-image data-v-245b3c15" mode="aspectFill"/><text class="category-name data-v-245b3c15">{{category.b}}</text></view></view></view><view wx:else class="data-v-245b3c15"><view wx:if="{{ax}}" class="section-subtitle data-v-245b3c15"> 选择 {{ay}}</view><view wx:if="{{az}}" class="product-grid data-v-245b3c15"><view wx:for="{{aA}}" wx:for-item="product" wx:key="d" class="product-item data-v-245b3c15" bindtap="{{product.e}}"><image src="{{product.a}}" class="product-image data-v-245b3c15" mode="aspectFill"/><text class="product-name data-v-245b3c15">{{product.b}}</text><text class="product-price data-v-245b3c15">¥{{product.c}}</text></view></view></view></view><view class="section data-v-245b3c15"><view class="section-title data-v-245b3c15">吊坠</view><view wx:if="{{aB}}" class="empty-text data-v-245b3c15"> 暂无吊坠商品 </view><view wx:else class="product-grid data-v-245b3c15"><view wx:for="{{aC}}" wx:for-item="product" wx:key="d" class="product-item data-v-245b3c15" bindtap="{{product.e}}"><image src="{{product.a}}" class="product-image data-v-245b3c15" mode="aspectFill"/><text class="product-name data-v-245b3c15">{{product.b}}</text><text class="product-price data-v-245b3c15">¥{{product.c}}</text></view></view></view><view class="save-section data-v-245b3c15"><view class="form-item data-v-245b3c15"><view class="label data-v-245b3c15">作品名称</view><input type="text" placeholder="给你的作品起个名字吧" class="input data-v-245b3c15" value="{{aD}}" bindinput="{{aE}}"/></view><button class="save-btn data-v-245b3c15" disabled="{{aG}}" bindtap="{{aH}}">{{aF}}</button></view></view></scroll-view></view></view>