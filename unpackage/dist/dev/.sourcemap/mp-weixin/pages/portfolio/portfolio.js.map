{"version":3,"file":"portfolio.js","sources":["pages/portfolio/portfolio.vue","pages/portfolio/portfolio.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<view class=\"header\">\n\t\t\t<view class=\"title-section\">\n\t\t\t\t<view class=\"title\">ÊàëÁöÑ‰ΩúÂìÅÈõÜ</view>\n\t\t\t\t<view class=\"subtitle\">ÁÆ°ÁêÜ‰Ω†ËÆæËÆ°Â•ΩÁöÑÊâã‰∏≤‰ΩúÂìÅÔºåÁªßÁª≠ÁºñËæëÊàñÂà†Èô§</view>\n\t\t\t</view>\n\t\t\t<button class=\"new-btn\" @click=\"goToWorkspace\">\n\t\t\t\t<text class=\"btn-icon\">‚ûï</text>\n\t\t\t\t<text>Êñ∞Âª∫‰ΩúÂìÅ</text>\n\t\t\t</button>\n\t\t</view>\n\t\t\n\t\t<view v-if=\"loading\" class=\"loading\">\n\t\t\t<text>Ê≠£Âú®Âä†ËΩΩ‰ΩúÂìÅÈõÜ...</text>\n\t\t</view>\n\t\t\n\t\t<view v-else-if=\"designs.length === 0\" class=\"empty\">\n\t\t\t<view class=\"empty-card\">\n\t\t\t\t<text class=\"empty-text\">‰Ω†ËøòÊ≤°Êúâ‰øùÂ≠ò‰ªª‰Ωï‰ΩúÂìÅ„ÄÇ</text>\n\t\t\t\t<button class=\"empty-btn\" @click=\"goToWorkspace\">\n\t\t\t\t\t<text class=\"btn-icon\">‚ûï</text>\n\t\t\t\t\t<text>ÂâçÂæÄÂ∑•‰ΩúÂè∞ÂºÄÂßãËÆæËÆ°</text>\n\t\t\t\t</button>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view v-else class=\"designs-grid\">\n\t\t\t<view \n\t\t\t\tv-for=\"design in designs\" \n\t\t\t\t:key=\"design.id\"\n\t\t\t\tclass=\"design-card\"\n\t\t\t>\n\t\t\t\t<view class=\"preview-section\" @click=\"viewDesign(design.id)\">\n\t\t\t\t\t<view class=\"preview-placeholder\">\n\t\t\t\t\t\t<text class=\"preview-icon\">üìø</text>\n\t\t\t\t\t\t<text class=\"preview-text\">{{ design.items?.length || 0 }} ‰ª∂</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"actions-bar\">\n\t\t\t\t\t\t<button \n\t\t\t\t\t\t\tclass=\"action-btn edit-btn\" \n\t\t\t\t\t\t\t@click.stop=\"editDesign(design.id)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<text>‚úèÔ∏è</text>\n\t\t\t\t\t\t\t<text>ÁºñËæë</text>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button \n\t\t\t\t\t\t\tclass=\"action-btn delete-btn\" \n\t\t\t\t\t\t\t@click.stop=\"deleteDesign(design.id)\"\n\t\t\t\t\t\t\t:disabled=\"deletingId === design.id\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<text>üóëÔ∏è</text>\n\t\t\t\t\t\t\t<text>{{ deletingId === design.id ? 'Âà†Èô§‰∏≠' : 'Âà†Èô§' }}</text>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"info-section\">\n\t\t\t\t\t<view class=\"design-name\">{{ design.name }}</view>\n\t\t\t\t\t<view class=\"design-price\">¬•{{ design.totalPrice }}</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport { designAPI } from '@/utils/api.js'\n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tdesigns: [],\n\t\t\t\tloading: true,\n\t\t\t\tdeletingId: null\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\tthis.fetchDesigns()\n\t\t},\n\t\tonShow() {\n\t\t\tthis.fetchDesigns()\n\t\t},\n\t\tmethods: {\n\t\t\tasync fetchDesigns() {\n\t\t\t\tthis.loading = true\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await designAPI.getDesigns()\n\t\t\t\t\tthis.designs = res.designs || []\n\t\t\t\t} catch (err) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'Âä†ËΩΩÂ§±Ë¥•',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t\tconsole.error(err)\n\t\t\t\t} finally {\n\t\t\t\t\tthis.loading = false\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tviewDesign(id) {\n\t\t\t\t// TODO: ÂÆûÁé∞Êü•ÁúãËÆæËÆ°ËØ¶ÊÉÖÈ°µÈù¢\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'ÂäüËÉΩÂºÄÂèë‰∏≠',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\teditDesign(id) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/pages/workspace/workspace?designId=${id}`\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tasync deleteDesign(id) {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'Á°ÆËÆ§Âà†Èô§',\n\t\t\t\t\tcontent: 'Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™‰ΩúÂìÅÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§ç„ÄÇ',\n\t\t\t\t\tsuccess: async (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tthis.deletingId = id\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tawait designAPI.deleteDesign(id)\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: 'Âà†Èô§ÊàêÂäü',\n\t\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tthis.designs = this.designs.filter(d => d.id !== id)\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: err.message || 'Âà†Èô§Â§±Ë¥•',\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\tthis.deletingId = null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tgoToWorkspace() {\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/workspace/workspace'\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.container {\n\t\tmin-height: 100vh;\n\t\tbackground: linear-gradient(135deg, #dbeafe 0%, #e0e7ff 50%, #f3e8ff 100%);\n\t\tpadding: 40rpx;\n\t}\n\t\n\t.header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: flex-start;\n\t\tmargin-bottom: 40rpx;\n\t\tflex-wrap: wrap;\n\t\tgap: 24rpx;\n\t}\n\t\n\t.title-section {\n\t\tflex: 1;\n\t\tmin-width: 300rpx;\n\t}\n\t\n\t.title {\n\t\tfont-size: 56rpx;\n\t\tfont-weight: bold;\n\t\tbackground: linear-gradient(135deg, #3b82f6, #8b5cf6);\n\t\t-webkit-background-clip: text;\n\t\t-webkit-text-fill-color: transparent;\n\t\tmargin-bottom: 12rpx;\n\t}\n\t\n\t.subtitle {\n\t\tfont-size: 26rpx;\n\t\tcolor: #6b7280;\n\t}\n\t\n\t.new-btn {\n\t\tbackground: linear-gradient(135deg, #3b82f6, #8b5cf6);\n\t\tcolor: #ffffff;\n\t\tpadding: 20rpx 32rpx;\n\t\tborder-radius: 16rpx;\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 600;\n\t\tborder: none;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8rpx;\n\t\tbox-shadow: 0 8rpx 20rpx rgba(59, 130, 246, 0.3);\n\t}\n\t\n\t.btn-icon {\n\t\tfont-size: 32rpx;\n\t}\n\t\n\t.loading {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tmin-height: 40vh;\n\t\tfont-size: 28rpx;\n\t\tcolor: #6b7280;\n\t}\n\t\n\t.empty {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tmin-height: 40vh;\n\t}\n\t\n\t.empty-card {\n\t\tbackground: rgba(255, 255, 255, 0.9);\n\t\tborder-radius: 24rpx;\n\t\tpadding: 80rpx 60rpx;\n\t\ttext-align: center;\n\t\tbox-shadow: 0 10rpx 30rpx rgba(0, 0, 0, 0.1);\n\t}\n\t\n\t.empty-text {\n\t\tfont-size: 32rpx;\n\t\tcolor: #6b7280;\n\t\tmargin-bottom: 40rpx;\n\t\tdisplay: block;\n\t}\n\t\n\t.empty-btn {\n\t\tbackground: #3b82f6;\n\t\tcolor: #ffffff;\n\t\tpadding: 24rpx 48rpx;\n\t\tborder-radius: 16rpx;\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 600;\n\t\tborder: none;\n\t\tdisplay: inline-flex;\n\t\talign-items: center;\n\t\tgap: 8rpx;\n\t}\n\t\n\t.designs-grid {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(auto-fill, minmax(300rpx, 1fr));\n\t\tgap: 30rpx;\n\t}\n\t\n\t.design-card {\n\t\tbackground: rgba(255, 255, 255, 0.9);\n\t\tborder-radius: 24rpx;\n\t\toverflow: hidden;\n\t\tbox-shadow: 0 10rpx 30rpx rgba(0, 0, 0, 0.1);\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\t\n\t.preview-section {\n\t\tposition: relative;\n\t\tpadding: 30rpx;\n\t\tborder-bottom: 2rpx solid #e5e7eb;\n\t\tbackground: #f9fafb;\n\t}\n\t\n\t.preview-placeholder {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tmin-height: 300rpx;\n\t\tgap: 16rpx;\n\t}\n\t\n\t.preview-icon {\n\t\tfont-size: 120rpx;\n\t}\n\t\n\t.preview-text {\n\t\tfont-size: 24rpx;\n\t\tcolor: #6b7280;\n\t}\n\t\n\t.actions-bar {\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbackground: linear-gradient(to top, rgba(255, 255, 255, 0.95), transparent);\n\t\tpadding: 20rpx 30rpx 30rpx;\n\t\tdisplay: flex;\n\t\tgap: 12rpx;\n\t}\n\t\n\t.action-btn {\n\t\tflex: 1;\n\t\tpadding: 12rpx 20rpx;\n\t\tborder-radius: 20rpx;\n\t\tfont-size: 22rpx;\n\t\tfont-weight: 500;\n\t\tborder: none;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tgap: 6rpx;\n\t}\n\t\n\t.edit-btn {\n\t\tbackground: #3b82f6;\n\t\tcolor: #ffffff;\n\t}\n\t\n\t.delete-btn {\n\t\tbackground: #fef2f2;\n\t\tcolor: #dc2626;\n\t}\n\t\n\t.delete-btn[disabled] {\n\t\topacity: 0.5;\n\t}\n\t\n\t.info-section {\n\t\tpadding: 24rpx 30rpx;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t}\n\t\n\t.design-name {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: 600;\n\t\tcolor: #1f2937;\n\t\tflex: 1;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t}\n\t\n\t.design-price {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #3b82f6;\n\t\tmargin-left: 16rpx;\n\t}\n</style>\n","import MiniProgramPage from '/Users/shaomaojia/Documents/HBuilderProjects/bracelet/pages/portfolio/portfolio.vue'\nwx.createPage(MiniProgramPage)"],"names":["designAPI","uni"],"mappings":";;;AAoEC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,SAAS,CAAE;AAAA,MACX,SAAS;AAAA,MACT,YAAY;AAAA,IACb;AAAA,EACA;AAAA,EACD,SAAS;AACR,SAAK,aAAa;AAAA,EAClB;AAAA,EACD,SAAS;AACR,SAAK,aAAa;AAAA,EAClB;AAAA,EACD,SAAS;AAAA,IACR,MAAM,eAAe;AACpB,WAAK,UAAU;AACf,UAAI;AACH,cAAM,MAAM,MAAMA,UAAS,UAAC,WAAW;AACvC,aAAK,UAAU,IAAI,WAAW,CAAC;AAAA,MAC9B,SAAO,KAAK;AACbC,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,SACN;AACDA,sBAAAA,4DAAc,GAAG;AAAA,MAClB,UAAU;AACT,aAAK,UAAU;AAAA,MAChB;AAAA,IACA;AAAA,IAED,WAAW,IAAI;AAEdA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,MAAM;AAAA,OACN;AAAA,IACD;AAAA,IAED,WAAW,IAAI;AACdA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,uCAAuC,EAAE;AAAA,OAC9C;AAAA,IACD;AAAA,IAED,MAAM,aAAa,IAAI;AACtBA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,OAAO,QAAQ;AACvB,cAAI,IAAI,SAAS;AAChB,iBAAK,aAAa;AAClB,gBAAI;AACH,oBAAMD,UAAS,UAAC,aAAa,EAAE;AAC/BC,4BAAAA,MAAI,UAAU;AAAA,gBACb,OAAO;AAAA,gBACP,MAAM;AAAA,eACN;AACD,mBAAK,UAAU,KAAK,QAAQ,OAAO,OAAK,EAAE,OAAO,EAAE;AAAA,YAClD,SAAO,KAAK;AACbA,4BAAAA,MAAI,UAAU;AAAA,gBACb,OAAO,IAAI,WAAW;AAAA,gBACtB,MAAM;AAAA,eACN;AAAA,YACF,UAAU;AACT,mBAAK,aAAa;AAAA,YACnB;AAAA,UACD;AAAA,QACD;AAAA,OACA;AAAA,IACD;AAAA,IAED,gBAAgB;AACfA,oBAAAA,MAAI,UAAU;AAAA,QACb,KAAK;AAAA,OACL;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjJD,GAAG,WAAW,eAAe;"}